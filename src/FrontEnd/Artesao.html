<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Artesao</title>
    <style>
        body{
            margin: 0;
            padding: 0;
        }
        .container{
            display: flex;
            justify-content: space-between;
            flex-flow: column nowrap;
            width: 30%;
            height: 30%;
            margin-left: 30%;
            margin-top: -3%;
        }
    </style>
</head>
<body>
    <div class="bloco">
        <img id="img" src="img/arte2.jpeg" alt="" width="80px" height="80px">
    </div>
    <div class="container">
        <form id="cadastroArtesaoForm">
            <h1>Seu Perfil</h1>
            <h2>Cadastro Artesao</h2>
            <label>Nome</label>
            <input type="text" id="nome" placeholder="nome" required> <br>
            <label>Cidade</label> 
            <input type="text" id="cidade" placeholder="cidade" required> <br>
            <label>RG</label>
            <input type="text" id="rg" placeholder="rg" required> <br>
            <label>CPF</label>
            <input type="text" id="cpf" placeholder="cpf" required> <br>
            <label>E-mail</label>
            <input type="email" id="email" placeholder="email" required> <br>
            <label>Telefone</label>
            <input type="text" id="telefone" placeholder="telefone" required> <br>
            <label>Endereço</label>
            <input type="text" id="endereco" placeholder="endereço" required> <br>
            <label>Idade</label>
            <input type="number" id="idade" placeholder="idade" required> <br>
            <input type="submit" value="Cadastrar Dados">
        </form>
    </div>
    <div class="blocoProduto">
        <form id=cadastroProduto>
            <label>Nome</label>
            <input id="Nome" type="text" required> <br>

            <label >Descrição</label>
            <input id="Descricao" type="text" required> <br>

            <label >Preço</label>
            <input id="Preco" type="number" required > <br>

            <input type="submit" value="Cadastrar Produto">

        </form>
    </div>
    <script>
        document.getElementById('cadastroArtesaoForm').addEventListener('submit', async function(event) {
            event.preventDefault();

            const artesao = {
                Nome: document.getElementById('nome').value,
                Cidade: document.getElementById('cidade').value,
                Rg: document.getElementById('rg').value,
                Cpf: document.getElementById('cpf').value,
                Email: document.getElementById('email').value,
                Telefone: document.getElementById('telefone').value, 
                Endereco: document.getElementById('endereco').value,
                Idade: document.getElementById('idade').value
            };

            try {
                const response = await fetch('http://localhost:3000/Artesao', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(artesao)
                });

                if (response.ok) {
                    alert('Dados cadastrados com sucesso!');
                } else {
                    alert('Erro ao cadastrar os dados!');
                }
            } catch (error) {
                console.error('Erro:', error);
                alert('Erro ao enviar os dados!');
            }
        });
        document.getElementById('cadastroProduto').addEventListener('submit',async function(event){
            event.preventDefault();
            const produto = {
                Nome: document.getElementById('Nome').value,
                Descricao: document.getElementById('Descricao').value,
                Preco: document.getElementById('Preco').value,
            }
            try {
                const response = await fetch('http://localhost:3000/Produto', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(produto)
                });

                if (response.ok) {
                    alert('Dados cadastrados com sucesso!');
                } else {
                    alert('Erro ao cadastrar os dados!');
                }
            } catch (error) {
                console.error('Erro:', error);
                alert('Erro ao enviar os dados!');
            }
        });
    </script>
</body>
</html>
